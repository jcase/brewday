loadProperties()

def loadProperties() {
    def rootDir = project.rootProject.projectDir
    def configFileName = hasProperty('config') ? config : 'dev.properties'
    def configFilePath = rootDir.toPath().resolve(configFileName)
    println "Current config file: " + configFilePath

    def configFile = file(configFilePath)

    def props = new Properties()
    configFile.withInputStream { props.load(it) }
    project.ext.config = new ConfigSlurper().parse(props)
}